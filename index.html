<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интернет-магазин</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Основные стили остаются без изменений */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Добавление стилей для кнопки "Сердечко" */
        .heart-button {
            cursor: pointer;
            color: #ccc;
            font-size: 20px;
            transition: color 0.3s;
        }

        .heart-button.liked {
            color: red; /* Цвет сердечка при добавлении в избранное */
        }

        /* Остальные стили остаются без изменений */
        /* ... */
    </style>
</head>
<body>
    <header>
        <h1>Добро пожаловать в интернет-магазин Shaxa</h1>
        <input type="text" id="search-bar" placeholder="Поиск..." oninput="filterProducts()" style="padding: 0.5em; width: 60%; max-width: 200px; border-radius: 5px; border: 1px solid #ccc;">
        <button class="menu-button" onclick="toggleMenu()">Меню</button>
        <div class="menu-panel" id="menu-panel">
            <button class="btn" onclick="showMain()">Главная</button>
            <button class="btn" onclick="showRecommended()">Рекомендуемые товары</button>
            <button class="btn" onclick="showCartSection()">Корзина</button>
            <button class="btn" onclick="openChat()">Поддержка</button> <!-- Кнопка поддержки -->
        </div>
        <!-- Социальные сети и кнопка переключения темы -->
        <!-- ... -->
    </header>
    <main>
        <section class="gallery" id="product-gallery">
            <!-- Продукты будут добавлены здесь через JavaScript -->
        </section>
        <!-- Остальные секции остаются без изменений -->
        <!-- ... -->
    </main>
    <!-- Чат поддержки -->
    <div id="chatContainer" class="chat-container">
        <div class="chat-header">
            <span class="close" onclick="closeChat()">&times;</span>
            <h3>Чат</h3>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <input type="text" id="chatInput" class="chat-input" placeholder="Напишите сообщение..." onkeypress="sendMessage(event)">
    </div>
    <script>
        let products = [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let chatMessages = [];

        // Функция для загрузки товаров
        async function loadProducts() {
            try {
                const response = await fetch('products.json');
                if (!response.ok) {
                    throw new Error('Ошибка при загрузке товаров');
                }
                products = await response.json();
                displayProducts();
            } catch (error) {
                console.error('Ошибка при загрузке товаров:', error);
            }
        }

        // Функция для отображения всех товаров
        function displayProducts(filteredProducts = products) {
            const productsDiv = document.getElementById("product-gallery");
            productsDiv.innerHTML = '';
            filteredProducts.forEach((product, index) => {
                const productDiv = document.createElement("div");
                productDiv.className = "product-card";
                productDiv.innerHTML = `
                    <h2>${product.name}</h2>
                    <img src="${product.images[0]}" alt="${product.name}" onclick="openModal(${index})">
                    <p>Цена: ${product.price}₽</p>
                    <button class="btn" onclick="orderNow('${product.name}')">Заказать сейчас</button>
                    <button class="btn" onclick="addToCart('${product.name}', ${product.price})">В корзину</
